html
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lifedashboard ‚Äì Gamify Your Health</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Sarabun', sans-serif; }
    </style>
</head>
<body class="bg-white text-gray-800 font-sans">

    <!-- Landing Page -->
    <div id="landingPage">
        <!-- Navbar -->
        <nav class="flex items-center justify-between p-4 shadow-md">
            <div class="text-xl font-bold text-blue-600">Lifedashboard</div>
            <div class="space-x-4">
                <a href="#" class="hover:text-blue-600">Home</a>
                <a href="#" class="hover:text-blue-600">Learn</a>
                <a href="#" class="hover:text-blue-600">Badges</a>
                <button id="loginBtn" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-500">Log In</button>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="bg-blue-50 py-20 text-center">
            <h1 class="text-4xl font-bold text-blue-800 mb-4">Start Your Health Quest</h1>
            <p class="text-lg text-blue-700 mb-6">‡∏ù‡∏∂‡∏Å‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏°‚Äî‡∏ß‡∏≠‡∏£‡πå‡∏°, ‡∏´‡∏≤‡∏¢‡πÉ‡∏à, ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î</p>
            <button id="getStartedBtn" class="bg-blue-600 text-white px-6 py-3 rounded-lg text-lg hover:bg-blue-500">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢</button>
        </section>

        <!-- Feature Section -->
        <section class="py-12 container mx-auto">
            <h2 class="text-2xl font-bold text-center mb-8">‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="mx-auto mb-4 w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center text-2xl">üìù</div>
                    <h3 class="font-semibold">Gamified Quizzes</h3>
                    <p>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏Å‡∏° ‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞ badge</p>
                </div>
                <div class="text-center">
                    <div class="mx-auto mb-4 w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-2xl">üèÉ</div>
                    <h3 class="font-semibold">Real‚Äëworld Health Challenges</h3>
                    <p>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ</p>
                </div>
                <div class="text-center">
                    <div class="mx-auto mb-4 w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center text-2xl">üèÜ</div>
                    <h3 class="font-semibold">Badges & Certificates</h3>
                    <p>‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p>
                </div>
            </div>
        </section>

        <!-- Courses Section -->
        <section class="bg-gray-100 py-12">
            <div class="container mx-auto">
                <h2 class="text-2xl font-bold text-center mb-8">‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <div class="bg-white shadow rounded p-4 text-center hover:shadow-lg">
                        <div class="mx-auto mb-2 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center text-xl">üèÉ‚Äç‚ôÇÔ∏è</div>
                        <h3 class="font-semibold mb-2">Warm‚Äëup Basics</h3>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                    </div>
                    <div class="bg-white shadow rounded p-4 text-center hover:shadow-lg">
                        <div class="mx-auto mb-2 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-xl">ü´Å</div>
                        <h3 class="font-semibold mb-2">Breathing Techniques</h3>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                    </div>
                    <div class="bg-white shadow rounded p-4 text-center hover:shadow-lg">
                        <div class="mx-auto mb-2 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-xl">ü•ó</div>
                        <h3 class="font-semibold mb-2">Nutrition</h3>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                    </div>
                    <div class="bg-white shadow rounded p-4 text-center hover:shadow-lg">
                        <div class="mx-auto mb-2 w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center text-xl">üí™</div>
                        <h3 class="font-semibold mb-2">Exercise</h3>
                        <button class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-12 container mx-auto text-center">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="text-4xl font-bold text-blue-600">100K+</div>
                    <div class="mt-2 text-gray-600">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡πâ‡∏ß</div>
                </div>
                <div>
                    <div class="text-4xl font-bold text-green-600">200K+</div>
                    <div class="mt-2 text-gray-600">Badges ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ</div>
                </div>
                <div>
                    <div class="text-4xl font-bold text-purple-600">50+</div>
                    <div class="mt-2 text-gray-600">‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="bg-gray-50 py-12">
            <div class="container mx-auto">
                <h2 class="text-2xl font-bold text-center mb-8">‡∏Ñ‡∏≥‡∏ä‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white p-6 rounded shadow">
                        <p class="italic mb-4">"‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏â‡∏±‡∏ô‡∏ß‡∏≠‡∏£‡πå‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏à‡∏£‡∏¥‡∏á‡πÜ!"</p>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full mr-4 bg-gray-300 flex items-center justify-center">üë§</div>
                            <div>
                                <p class="font-semibold">‡πÄ‡∏°‡∏ò‡∏≤‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</p>
                                <p class="text-sm text-gray-500">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded shadow">
                        <p class="italic mb-4">"‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏°‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏ô‡∏∏‡∏Å‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô!"</p>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full mr-4 bg-gray-300 flex items-center justify-center">üë§</div>
                            <div>
                                <p class="font-semibold">‡∏™‡∏°‡πÉ‡∏à</p>
                                <p class="text-sm text-gray-500">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded shadow">
                        <p class="italic mb-4">"‡πÅ‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û!"</p>
                        <div class="flex items-center">
                            <div class="w-12 h-12 rounded-full mr-4 bg-gray-300 flex items-center justify-center">üë§</div>
                            <div>
                                <p class="font-semibold">‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤</p>
                                <p class="text-sm text-gray-500">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 text-gray-400 text-center py-6">
            ¬© 2025 Lifedashboard | ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤ ¬∑ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ¬∑ ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
        </footer>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="hidden min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-indigo-100">
        <div class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h1>
                <p class="text-gray-600">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™ 10 ‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label for="userCode" class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
                    <input 
                        type="text" 
                        id="userCode" 
                        maxlength="10"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg tracking-wider"
                        placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™ 10 ‡∏´‡∏•‡∏±‡∏Å"
                        required
                    >
                </div>
                
                <button 
                    type="submit" 
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition duration-200 transform hover:scale-105"
                >
                    ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                </button>
            </form>
            
            <div id="errorMessage" class="hidden mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-center">
            </div>
            
            <div class="text-center mt-8">
                <button 
                    id="reportProblemBtn"
                    class="text-sm text-blue-600 hover:text-blue-800 underline"
                >
                    ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤
                </button>
                <span class="mx-2 text-gray-400">|</span>
                <button 
                    id="backToHomeBtn"
                    class="text-sm text-blue-600 hover:text-blue-800 underline"
                >
                    ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
                </button>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="hidden min-h-screen bg-gradient-to-br from-green-50 to-emerald-100">
        <!-- Hamburger Menu Button -->
        <button 
            id="menuToggle"
            class="fixed top-4 left-4 z-50 bg-white p-3 rounded-lg shadow-lg hover:bg-gray-50 transition duration-200"
        >
            <div class="w-6 h-6 flex flex-col justify-center space-y-1">
                <div class="w-full h-0.5 bg-gray-600 transition-all duration-300" id="line1"></div>
                <div class="w-full h-0.5 bg-gray-600 transition-all duration-300" id="line2"></div>
                <div class="w-full h-0.5 bg-gray-600 transition-all duration-300" id="line3"></div>
            </div>
        </button>

        <!-- Sidebar -->
        <div id="sidebar" class="fixed top-0 left-0 h-full w-80 bg-white shadow-xl transform -translate-x-full transition-transform duration-300 z-40">
            <div class="p-6 border-b">
                <h2 class="text-xl font-semibold text-gray-800">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</h2>
                <div class="mt-3">
                    <span id="userRole" class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"></span>
                </div>
            </div>
            
            <nav class="flex-1 p-6">
                <ul class="space-y-4">
                    <li>
                        <button 
                            id="homeBtn"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition duration-200 flex items-center space-x-3"
                        >
                            <span class="text-gray-600">üè†</span>
                            <span class="text-gray-700">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
                        </button>
                    </li>
                    <li>
                        <button 
                            id="profileBtn"
                            class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition duration-200 flex items-center space-x-3"
                        >
                            <span class="text-gray-600">üë§</span>
                            <span class="text-gray-700">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span>
                        </button>
                    </li>
                </ul>
            </nav>
            
            <!-- Logout Button at Bottom -->
            <div class="p-6 border-t">
                <button 
                    id="logoutBtn"
                    class="w-full bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-lg text-sm transition duration-200 flex items-center justify-center space-x-2"
                >
                    <span>üö™</span>
                    <span>‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</span>
                </button>
            </div>
        </div>

        <!-- Overlay -->
        <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden"></div>

        <!-- Main Content -->
        <div class="min-h-screen">
            <!-- Home Content -->
            <div id="homeContent" class="min-h-screen flex items-center justify-center">
                <div class="text-center">
                    <h1 class="text-4xl font-bold text-gray-800 mb-4">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö</h1>
                    <p class="text-gray-600 text-lg">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏≤‡∏Å‡πÅ‡∏Æ‡∏°‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÄ‡∏Å‡∏≠‡∏£‡πå‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô</p>
                </div>
            </div>

            <!-- Profile Content -->
            <div id="profileContent" class="hidden max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h2>
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                        <p class="text-blue-800">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span id="userRoleDisplay" class="font-semibold"></span></p>
                    </div>
                    
                    <div id="profileData" class="space-y-4">
                        <!-- Profile data will be displayed here -->
                    </div>
                    
                    <div id="loadingProfile" class="text-center py-8">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                        <p class="mt-2 text-gray-600">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Problem Page -->
    <div id="reportPage" class="hidden min-h-screen bg-gradient-to-br from-orange-50 to-red-100">
        <div class="min-h-screen flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-xl p-8 w-full max-w-2xl">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-800 mb-2">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h1>
                    <p class="text-gray-600">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö</p>
                </div>
                
                <form id="reportForm" class="space-y-6">
                    <div>
                        <label for="problemDescription" class="block text-sm font-medium text-gray-700 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤</label>
                        <div class="flex gap-3">
                            <textarea 
                                id="problemDescription" 
                                rows="6"
                                class="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"
                                placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö..."
                                required
                            ></textarea>
                            <button 
                                type="submit" 
                                class="bg-orange-600 hover:bg-orange-700 text-white font-medium px-6 py-3 rounded-lg transition duration-200 transform hover:scale-105 self-start"
                            >
                                ‡∏™‡πà‡∏á
                            </button>
                        </div>
                    </div>
                </form>
                
                <div id="reportSuccess" class="hidden mt-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded-lg text-center">
                    ‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                </div>
                
                <div class="text-center mt-8">
                    <button 
                        id="backToLoginBtn"
                        class="text-sm text-blue-600 hover:text-blue-800 underline"
                    >
                        ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sheety API configuration with CORS proxy fallback
        const SHEETY_API_URL = 'https://api.sheety.co/f9d461c6cb5cd938dcddc4f9fe9be51a/scpvb/deta';
        
        let userData = [];

        // Page elements
        const landingPage = document.getElementById('landingPage');
        const loginPage = document.getElementById('loginPage');
        const dashboardPage = document.getElementById('dashboardPage');
        const reportPage = document.getElementById('reportPage');
        const loginForm = document.getElementById('loginForm');
        const reportForm = document.getElementById('reportForm');
        const errorMessage = document.getElementById('errorMessage');
        const reportSuccess = document.getElementById('reportSuccess');
        const profileData = document.getElementById('profileData');
        const loadingProfile = document.getElementById('loadingProfile');

        // Sheety API functions with CORS handling
        async function loadUserData() {
            try {
                // Try direct API call first
                let response;
                try {
                    response = await fetch(SHEETY_API_URL);
                    if (!response.ok) throw new Error('Direct call failed');
                } catch (directError) {
                    // Fallback to CORS proxy
                    console.log('Direct API call failed, using CORS proxy...');
                    const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(SHEETY_API_URL)}`;
                    response = await fetch(proxyUrl);
                    
                    if (!response.ok) {
                        throw new Error(`Proxy HTTP ${response.status}: ${response.statusText}`);
                    }
                    
                    const proxyData = await response.json();
                    const data = JSON.parse(proxyData.contents);
                    userData = data.deta || [];
                    console.log('Data loaded via proxy:', userData.length, 'records');
                    return userData.length > 0;
                }
                
                // Direct API call succeeded
                const data = await response.json();
                userData = data.deta || [];
                console.log('Data loaded directly:', userData.length, 'records');
                return userData.length > 0;
                
            } catch (error) {
                console.error('Error loading user data:', error);
                return false;
            }
        }

        function findUserByCode(code) {
            console.log('Looking for code:', code);
            console.log('Total users in database:', userData.length);
            
            // Search in multiple possible fields
            for (let user of userData) {
                // Check all fields for the code
                for (let [key, value] of Object.entries(user)) {
                    if (value && value.toString().trim() === code && key !== 'id') {
                        console.log(`Found user with field "${key}":`, user);
                        return user;
                    }
                }
            }
            
            console.log('No user found with code:', code);
            return null;
        }

        function displayUserProfile(user) {
            if (!user) return;
            
            loadingProfile.classList.add('hidden');
            profileData.innerHTML = '';
            
            console.log('Displaying profile for user:', user);
            
            // Fields to exclude from display
            const excludeFields = [
                'id', 
                'timestamp', 
                'Timestamp', 
                '‡πÄ‡∏ß‡∏•‡∏≤', 
                '‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤',
                '‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà',
                'date',
                'time'
            ];
            
            Object.keys(user).forEach(key => {
                const shouldExclude = excludeFields.some(excludeField => 
                    key.toLowerCase().includes(excludeField.toLowerCase())
                );
                
                if (!shouldExclude && user[key]) {
                    const fieldName = getFieldDisplayName(key) || key;
                    const dataItem = document.createElement('div');
                    dataItem.className = 'bg-gray-50 p-4 rounded-lg border';
                    dataItem.innerHTML = `
                        <div class="flex justify-between items-center">
                            <span class="font-medium text-gray-700">${fieldName}:</span>
                            <span class="text-gray-900">${user[key]}</span>
                        </div>
                    `;
                    profileData.appendChild(dataItem);
                }
            });
        }

        function getFieldDisplayName(fieldKey) {
            const fieldNames = {
                '‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤': '‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
                '‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤(‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏µ‡∏î)': '‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
                '‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•': '‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•',
                '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô': '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô',
                '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå': '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå',
                '‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏≠‡∏î‡∏µ': '‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏≠‡∏î‡∏µ',
                '‡∏≠‡∏µ‡πÄ‡∏°‡∏•': '‡∏≠‡∏µ‡πÄ‡∏°‡∏•',
                '‡∏Ñ‡∏ì‡∏∞': '‡∏Ñ‡∏ì‡∏∞',
                '‡∏™‡∏≤‡∏Ç‡∏≤': '‡∏™‡∏≤‡∏Ç‡∏≤',
                'c': '‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ',
                'studentId': '‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤',
                'name': '‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•',
                'nickname': '‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô',
                'phone': '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå',
                'line': '‡πÑ‡∏•‡∏ô‡πå‡πÑ‡∏≠‡∏î‡∏µ',
                'email': '‡∏≠‡∏µ‡πÄ‡∏°‡∏•',
                'faculty': '‡∏Ñ‡∏ì‡∏∞',
                'major': '‡∏™‡∏≤‡∏Ç‡∏≤'
            };
            return fieldNames[fieldKey] || fieldKey;
        }

        function showPage(page) {
            landingPage.classList.add('hidden');
            loginPage.classList.add('hidden');
            dashboardPage.classList.add('hidden');
            reportPage.classList.add('hidden');
            page.classList.remove('hidden');
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
            setTimeout(() => {
                errorMessage.classList.add('hidden');
            }, 5000);
        }

        function getUserRole(code) {
            if (code === '0000000000') {
                return '‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô';
            }
            
            const firstTwoDigits = parseInt(code.substring(0, 2));
            if (firstTwoDigits <= 67 && firstTwoDigits >= 60) {
                return '‡∏û‡∏µ‡πà‡∏´‡∏°‡πà‡∏≠';
            }
            
            return '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';
        }

        // Login form handler
        loginForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            const userCode = document.getElementById('userCode').value.trim();
            
            if (userCode.length !== 10) {
                showError('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™ 10 ‡∏´‡∏•‡∏±‡∏Å');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö...';
            submitBtn.disabled = true;

            try {
                if (userData.length === 0) {
                    const loaded = await loadUserData();
                    if (!loaded) {
                        showError('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
                        return;
                    }
                }

                const user = findUserByCode(userCode);
                const isAdmin = userCode === '0000000000';
                
                if (user || isAdmin) {
                    const role = getUserRole(userCode);
                    document.getElementById('userRole').textContent = role;
                    document.getElementById('userRoleDisplay').textContent = role;
                    
                    if (user) {
                        displayUserProfile(user);
                    } else {
                        loadingProfile.classList.add('hidden');
                        profileData.innerHTML = `
                            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                <div class="flex justify-between items-center">
                                    <span class="font-medium text-gray-700">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</span>
                                    <span class="text-yellow-800 font-semibold">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</span>
                                </div>
                            </div>
                        `;
                    }
                    
                    showPage(dashboardPage);
                } else {
                    showError('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏´‡∏±ÿ≥‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö');
                }
            } catch (error) {
                console.error('Login error:', error);
                showError('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Report form handler
        reportForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const problemDescription = document.getElementById('problemDescription').value.trim();
            
            if (problemDescription) {
                console.log('Sending problem report:', problemDescription);
                reportSuccess.classList.remove('hidden');
                document.getElementById('problemDescription').value = '';
                
                setTimeout(() => {
                    reportSuccess.classList.add('hidden');
                }, 5000);
            }
        });

        // Sidebar functionality
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const homeContent = document.getElementById('homeContent');
        const profileContent = document.getElementById('profileContent');

        function toggleSidebar() {
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
            
            const line1 = document.getElementById('line1');
            const line2 = document.getElementById('line2');
            const line3 = document.getElementById('line3');
            
            if (sidebar.classList.contains('-translate-x-full')) {
                line1.style.transform = 'rotate(0deg)';
                line2.style.opacity = '1';
                line3.style.transform = 'rotate(0deg)';
            } else {
                line1.style.transform = 'rotate(45deg) translate(6px, 6px)';
                line2.style.opacity = '0';
                line3.style.transform = 'rotate(-45deg) translate(6px, -6px)';
            }
        }

        function closeSidebar() {
            sidebar.classList.add('-translate-x-full');
            overlay.classList.add('hidden');
            
            const line1 = document.getElementById('line1');
            const line2 = document.getElementById('line2');
            const line3 = document.getElementById('line3');
            
            line1.style.transform = 'rotate(0deg)';
            line2.style.opacity = '1';
            line3.style.transform = 'rotate(0deg)';
        }

        function showContent(contentToShow) {
            homeContent.classList.add('hidden');
            profileContent.classList.add('hidden');
            contentToShow.classList.remove('hidden');
            closeSidebar();
        }

        // Navigation event listeners
        document.getElementById('loginBtn').addEventListener('click', () => {
            showPage(loginPage);
        });

        document.getElementById('getStartedBtn').addEventListener('click', () => {
            showPage(loginPage);
        });

        document.getElementById('reportProblemBtn').addEventListener('click', () => {
            showPage(reportPage);
        });

        document.getElementById('backToLoginBtn').addEventListener('click', () => {
            showPage(loginPage);
        });

        document.getElementById('backToHomeBtn').addEventListener('click', () => {
            document.getElementById('userCode').value = '';
            showPage(landingPage);
        });

        document.getElementById('logoutBtn').addEventListener('click', () => {
            document.getElementById('userCode').value = '';
            showPage(landingPage);
        });

        // Sidebar event listeners
        menuToggle.addEventListener('click', toggleSidebar);
        overlay.addEventListener('click', closeSidebar);

        document.getElementById('homeBtn').addEventListener('click', () => {
            showContent(homeContent);
        });

        document.getElementById('profileBtn').addEventListener('click', () => {
            showContent(profileContent);
        });

        // Auto-format input to numbers only
        document.getElementById('userCode').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
        });
    </script>
</body>
</html>